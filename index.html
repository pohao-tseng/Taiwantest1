<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç£è½‰å‹æ­£ç¾©ãƒ»è¨˜æ†¶å°æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f4f4f0; color: #333; }
        
        /* å¡ç‰‡åŸºç¤æ¨£å¼ */
        .card { 
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            border-left: 4px solid transparent;
        }
        .card.done { border-left-color: #4f46e5; background-color: #fff; }
        
        /* é¸é …æŒ‰éˆ•å‹•ç•« */
        .btn-option { 
            transition: all 0.2s ease; 
            transform: scale(1);
        }
        .btn-option:active { transform: scale(0.95); }
        .btn-option.selected { 
            background-color: #4f46e5; 
            color: white; 
            border-color: #4f46e5; 
            box-shadow: 0 2px 5px rgba(79, 70, 229, 0.3);
        }

        /* æ•…äº‹å±•é–‹å‹•ç•« */
        .story-box {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0, 1, 0, 1), opacity 0.5s ease;
            opacity: 0;
        }
        .story-box.open {
            max-height: 200px; /* è¶³å¤ é¡¯ç¤ºå…§å®¹çš„é«˜åº¦ */
            opacity: 1;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }

        /* é€²åº¦æ¢ */
        .progress-bar { transition: width 0.5s ease; }
        
        /* æ­æ›‰æŒ‰éˆ•å‹•ç•« */
        .reveal-btn {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(79, 70, 229, 0); }
            100% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0); }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4 pb-24">

    <div class="fixed top-0 left-0 w-full h-2 bg-gray-200 z-50">
        <div id="progress" class="h-full bg-indigo-600 progress-bar" style="width: 0%"></div>
    </div>

    <header class="max-w-2xl w-full text-center mb-8 mt-4 fade-in">
        <h1 class="text-2xl md:text-3xl font-bold mb-3 tracking-wider text-gray-800">é‚£äº›æ‡‰è©²è¢«è¨˜å¾—çš„åå­—</h1>
        <p class="text-sm text-gray-500 mb-6">
            é»æ“Šé¸é …ä¾†ç´¯ç©æ­·å²è¨˜æ†¶<br>å®Œæˆå¾Œå¯æŸ¥çœ‹é€™ 25 ä½å‰è¼©çš„æ•…äº‹
        </p>
        
        <div class="flex justify-center gap-4 text-xs md:text-sm text-gray-600 bg-white p-3 rounded-xl shadow-sm inline-block">
            <div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full border border-gray-300"></span> ä¸èªè­˜ 0åˆ†</div>
            <div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-indigo-600"></span> è½é 2åˆ†</div>
            <div class="flex items-center gap-1"><span class="w-3 h-3 rounded-full bg-indigo-600"></span> çŸ¥æ•…äº‹ 4åˆ†</div>
        </div>
    </header>

    <main id="quiz-container" class="max-w-2xl w-full space-y-3">
        </main>

    <div id="result-section" class="hidden fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm transition-opacity">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 text-center transform transition-all scale-100">
            <button onclick="closeResult()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="text-xs font-bold text-gray-400 tracking-widest uppercase mb-1">ç¸½å¾—åˆ†</div>
            <div id="final-score" class="text-6xl font-black text-indigo-600 mb-2">0</div>
            <h2 id="result-title" class="text-xl font-bold text-gray-800 mb-3"></h2>
            <div class="w-16 h-1 bg-indigo-100 mx-auto mb-4 rounded"></div>
            <p id="result-desc" class="text-sm text-gray-600 leading-relaxed mb-6 text-justify px-2"></p>
            
            <div class="flex flex-col gap-3">
                <button onclick="shareResult()" class="w-full bg-gray-900 text-white py-3 rounded-xl hover:bg-black transition font-bold flex items-center justify-center gap-2">
                    <i class="fas fa-share-alt"></i> è¤‡è£½çµæœåˆ†äº«
                </button>
                <button onclick="closeResult()" class="w-full border border-gray-200 text-gray-600 py-3 rounded-xl hover:bg-gray-50 transition">
                    å›åˆ°åˆ—è¡¨çœ‹æ•…äº‹
                </button>
            </div>
        </div>
    </div>

    <div class="fixed bottom-6 z-40 px-4 w-full max-w-2xl flex justify-center pointer-events-none">
        <button onclick="calculateScore()" id="calc-btn" class="pointer-events-auto shadow-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition-all transform translate-y-20 opacity-0 flex items-center gap-2">
            <span>æŸ¥çœ‹æ¸¬é©—çµæœ</span>
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>

    <script>
        const people = [
            { name: "é™³æ¾„æ³¢", desc: "å°ç£å‰è¼©ç•«å®¶ï¼ŒäºŒäºŒå…«äº‹ä»¶ä¸­æ“”ä»»å’Œå¹³ä½¿è€…ï¼Œå»æ–¼å˜‰ç¾©ç«è»Šç«™å‰é­å…¬é–‹æ§æ±ºã€‚" },
            { name: "æ¹¯å¾·ç« ", desc: "å°å—å¾‹å¸«ï¼ŒäºŒäºŒå…«äº‹ä»¶ä¸­ç‚ºä¿è­·å¸‚æ°‘åå–®æ‹’çµ•ä¾›å‡ºä»–äººï¼Œé­æ§æ±ºå‰é«˜å–Šå°ç£è¬æ­²ï¼Œè¢«è­½ç‚ºå°å—å¸‚çš„æ•‘æ˜Ÿã€‚" },
            { name: "æ—èŒ‚ç”Ÿ", desc: "å°ç£ç¬¬ä¸€ä½ç•™ç¾å“²å­¸åšå£«ï¼Œæ›¾ä»»å°å¤§æ–‡å­¸é™¢ä»£ç†é™¢é•·ï¼ŒäºŒäºŒå…«äº‹ä»¶å¾Œç„¡æ•…å¤±è¹¤ã€‚" },
            { name: "æ¥Šé€µ", desc: "æ–‡å­¸å®¶ï¼Œå› èµ·è‰ã€Šå’Œå¹³å®£è¨€ã€‹è§¸æ€’ç•¶å±€ï¼Œå…¥ç„12å¹´ï¼Œåè¨€æ˜¯ã€Œå£“ä¸æ‰çš„ç«ç‘°ã€ã€‚" },
            { name: "è”¡ç‘æœˆ", desc: "å°ç£ç¾ä»£èˆä¹‹æ¯ï¼Œç™½è‰²ææ€–å—é›£è€…ï¼Œæ›¾åœ¨ç¶ å³¶ç›£ç„ä¸­å …æŒç·¨èˆèˆ‡æ•™å­¸ã€‚" },
            { name: "å¼µå¸¸ç¾", desc: "ç™½è‰²ææ€–å—é›£è€…ï¼Œé«˜ä¸‰æ™‚æ“”ä»»ç­é•·å› è¢«ç‰½é€£å…¥ç„ï¼Œè¦‹è­‰äº†è¨±å¤šå¥³æ€§å—é›£è€…çš„æ•…äº‹ã€‚" },
            { name: "è‘‰çŸ³æ¿¤", desc: "å°ç£æ–‡å­¸é‡è¦ä½œå®¶ï¼Œç™½è‰²ææ€–å—é›£è€…ï¼Œé€™æ®µç¶“æ­·æ·±åˆ»å½±éŸ¿å…¶æ–‡å­¸å‰µä½œèˆ‡å²è§€ã€‚" },
            { name: "å‘‚èµ«è‹¥", desc: "ä½œå®¶ã€è²æ¨‚å®¶ï¼Œè¢«è­½ç‚ºã€Œå°ç£ç¬¬ä¸€æ‰å­ã€ï¼Œé¹¿çªŸäº‹ä»¶å¾Œé€ƒäº¡å±±å€ï¼Œç›¸å‚³è¢«æ¯’è›‡å’¬æ­»ã€‚" },
            { name: "å²æ˜", desc: "ç¨ç«‹é‹å‹•å…ˆé©…ï¼Œè‘—æœ‰ã€Šå°ç£äººå››ç™¾å¹´å²ã€‹ï¼Œä¸€ç”Ÿè‡´åŠ›æ–¼æ¨ç¿»å¤–ä¾†æ®–æ°‘çµ±æ²»ã€‚" },
            { name: "é«˜ä¸€ç”Ÿ", desc: "é˜¿é‡Œå±±é„’æ—é ˜è¢–ï¼Œè‡´åŠ›æ–¼åŸä½æ°‘è‡ªæ²»èˆ‡æ•™è‚²ï¼Œå› ç™½è‰²ææ€–é­æ§æ±ºã€‚" },
            { name: "æ¹¯å®ˆä»", desc: "é„’æ—é ˜è¢–ï¼Œæ›¾åƒèˆ‡äºŒäºŒå…«äº‹ä»¶å˜‰ç¾©æˆ°å½¹ï¼Œå¾Œå› ç™½è‰²ææ€–èˆ‡é«˜ä¸€ç”ŸåŒæ¡ˆå—é›£ã€‚" },
            { name: "ä¸çªˆçª•", desc: "éƒµå±€è·å“¡ï¼Œç™½è‰²ææ€–æ™‚æœŸæŠ±è‘—å¹´å¹¼å¥³å…’å…¥ç„ï¼Œæœ€çµ‚é­æ§æ±ºï¼Œå…¶ã€Œé«®çµ²å¡šã€ä½æ–¼å°å—å¥³ä¸­ã€‚" },
            { name: "é›·éœ‡", desc: "ã€Šè‡ªç”±ä¸­åœ‹ã€‹ç™¼è¡Œäººï¼Œå› ç±Œçµ„åå°é»¨é­è”£ä»‹çŸ³å¿Œæ†šå…¥ç„ï¼Œæ˜¯å°ç£æ°‘ä¸»é‹å‹•å…ˆè¡Œè€…ã€‚" },
            { name: "æŸ¯æ——åŒ–", desc: "è‹±æ–‡è€å¸«ï¼ŒçŸ¥åçš„ã€Šæ–°è‹±æ–‡æ³•ã€‹ä½œè€…ï¼Œå› æ€æƒ³å•é¡Œå…©åº¦å…¥ç„å…±17å¹´ã€‚" },
            { name: "æ–½æ˜å¾·", desc: "ç¾éº—å³¶äº‹ä»¶ç¸½æŒ‡æ®ï¼Œå°ç£æ°‘ä¸»é‹å‹•é‡è¦äººç‰©ï¼Œç´¯è¨ˆåç‰¢æ™‚é–“é•·é”25å¹´ã€‚" },
            { name: "å½­æ˜æ•", desc: "å‰å°å¤§æ”¿æ²»ç³»ä¸»ä»»ï¼Œå› ç™¼è¡¨ã€Šå°ç£è‡ªæ•‘é‹å‹•å®£è¨€ã€‹é­é€šç·ï¼Œå¾Œæµäº¡æµ·å¤–å¤šå¹´ã€‚" },
            { name: "æŸæ¥Š", desc: "ä½œå®¶ï¼Œå› ç¿»è­¯ã€Šå¤§åŠ›æ°´æ‰‹ã€‹æ¼«ç•«è¢«æŒ‡å½±å°„è”£ä»‹çŸ³ï¼Œé­ç¾…ç¹”ç½ªåå…¥ç„9å¹´ã€‚" },
            { name: "å´”å°è", desc: "çŸ¥åå»£æ’­äººã€å°æ¼”ï¼Œè¢«èª£æŒ‡ç‚ºåŒªè«œå…¥ç„è¿‘10å¹´ï¼Œå¾Œé›–ç²å¹³åä½†äººç”Ÿç²¾è¯æ­²æœˆå·²é€ã€‚" },
            { name: "æ—ç¾©é›„", desc: "ç¾éº—å³¶äº‹ä»¶å—é›£è€…ã€‚1980å¹´å®¶ä¸­ç™¼ç”Ÿæ…˜çµ•äººå¯°çš„æ»…é–€è¡€æ¡ˆï¼ˆæ—å®…è¡€æ¡ˆï¼‰ï¼Œè‡³ä»ŠçœŸç›¸æœªæ˜ã€‚" },
            { name: "é»ƒä¿¡ä»‹", desc: "ç¾éº—å³¶äº‹ä»¶é ˜å°äººä¹‹ä¸€ï¼Œæ°‘ä¸»é€²æ­¥é»¨å‰ä¸»å¸­ï¼Œè¢«ç¨±ç‚ºã€Œä¿¡ä»‹ä»™ã€ã€‚" },
            { name: "é™³èŠ", desc: "ç¾éº—å³¶äº‹ä»¶å—é›£è€…ï¼Œç„ä¸­å¯«ä¸‹ã€Šçµ¦å°ç£äººæ°‘çš„éºæ›¸ã€‹ï¼Œå¾Œæ›¾ä»»é«˜é›„å¸‚é•·ã€ç›£å¯Ÿé™¢é•·ã€‚" },
            { name: "é™³æ–‡æˆ", desc: "æ—…ç¾åšå£«ï¼Œè¿”å°æ¢è¦ªæ™‚è¢«è­¦ç¸½ç´„è«‡ï¼Œéš”æ—¥é™³å±å°å¤§æ ¡åœ’ï¼Œæ¡ˆä»¶çœŸç›¸é•·æœŸæœªæ˜ã€‚" },
            { name: "ç›§ä¿®ä¸€", desc: "ç•™æ³•å­¸è€…ï¼Œå› æ¡ˆå…¥ç„ï¼Œå¾ŒæŠ•èº«æ”¿æ²»ï¼Œä»¥ä¿è­·å°ç£æ–‡åŒ–èˆ‡çœŸå¿ƒæ„›å°ç£è‘—ç¨±ã€‚" },
            { name: "æ±Ÿå— (åŠ‰å®œè‰¯)", desc: "æ—…ç¾ä½œå®¶ï¼Œå› æ’°å¯«ã€Šè”£ç¶“åœ‹å‚³ã€‹ï¼Œåœ¨ç¾åœ‹èˆŠé‡‘å±±é­å°ç£æƒ…å ±å±€æ´¾æ®ºæ‰‹æš—æ®ºã€‚" },
            { name: "é„­å—æ¦•", desc: "ã€Šè‡ªç”±æ™‚ä»£ã€‹å‘¨åˆŠå‰µè¾¦äººï¼Œä¸»å¼µã€Œç™¾åˆ†ä¹‹ç™¾çš„è¨€è«–è‡ªç”±ã€ï¼Œç‚ºæŠµæŠ—æ‹˜æè‡ªç„šæ®‰é“ã€‚" }
        ];

        let scores = new Array(25).fill(null); // nullè¡¨ç¤ºæœªä½œç­”

        function initQuiz() {
            const container = document.getElementById('quiz-container');
            people.forEach((person, index) => {
                const div = document.createElement('div');
                div.className = "bg-white p-5 rounded-xl shadow-sm card relative overflow-hidden";
                div.innerHTML = `
                    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 z-10 relative">
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-800 flex items-center justify-between md:justify-start gap-2">
                                <span><span class="text-indigo-200 text-sm mr-2">#${index + 1}</span>${person.name}</span>
                                <button onclick="toggleStory(${index}, this)" id="reveal-btn-${index}" class="hidden text-xs bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full hover:bg-indigo-100 transition-colors flex items-center gap-1">
                                    <i class="fas fa-book-open"></i> çœ‹æ•…äº‹
                                </button>
                            </h3>
                        </div>
                        <div class="flex gap-2 text-xs md:text-sm font-medium shrink-0 justify-end">
                            <button onclick="setScore(${index}, 0, this)" class="btn-option px-3 py-2 rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-50" data-idx="${index}">ä¸èªè­˜</button>
                            <button onclick="setScore(${index}, 2, this)" class="btn-option px-3 py-2 rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-50" data-idx="${index}">è½é</button>
                            <button onclick="setScore(${index}, 4, this)" class="btn-option px-3 py-2 rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-50" data-idx="${index}">çŸ¥æ•…äº‹</button>
                        </div>
                    </div>
                    <div id="story-${index}" class="story-box bg-gray-50 mt-0 rounded-lg text-sm text-gray-600 leading-relaxed">
                        <div class="p-4 border-t border-gray-100 mt-3">
                            <span class="font-bold text-indigo-500 block mb-1">é—œæ–¼ ${person.name}ï¼š</span>
                            ${person.desc}
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function setScore(index, score, btn) {
            scores[index] = score;
            
            // UI æ›´æ–°
            const parent = btn.parentElement;
            const buttons = parent.querySelectorAll('.btn-option');
            buttons.forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            
            // æ¨™è¨˜å¡ç‰‡å·²å®Œæˆ
            const card = btn.closest('.card');
            card.classList.add('done');

            // é¡¯ç¤ºçœ‹æ•…äº‹æŒ‰éˆ• (å¦‚æœå°šæœªé¡¯ç¤º)
            const revealBtn = document.getElementById(`reveal-btn-${index}`);
            if (revealBtn.classList.contains('hidden')) {
                revealBtn.classList.remove('hidden');
                revealBtn.classList.add('fade-in');
            }

            updateProgress();
        }

        function toggleStory(index, btn) {
            const storyBox = document.getElementById(`story-${index}`);
            storyBox.classList.toggle('open');
            
            // æŒ‰éˆ•æ–‡å­—åˆ‡æ›
            if (storyBox.classList.contains('open')) {
                btn.innerHTML = '<i class="fas fa-chevron-up"></i> æ”¶èµ·';
                btn.classList.remove('bg-indigo-50', 'text-indigo-600');
                btn.classList.add('bg-gray-100', 'text-gray-500');
            } else {
                btn.innerHTML = '<i class="fas fa-book-open"></i> çœ‹æ•…äº‹';
                btn.classList.add('bg-indigo-50', 'text-indigo-600');
                btn.classList.remove('bg-gray-100', 'text-gray-500');
            }
        }

        function updateProgress() {
            const answeredCount = scores.filter(s => s !== null).length;
            const percentage = (answeredCount / 25) * 100;
            document.getElementById('progress').style.width = `${percentage}%`;

            const calcBtn = document.getElementById('calc-btn');
            if (answeredCount === 25) {
                calcBtn.classList.remove('translate-y-20', 'opacity-0');
            }
        }

        function calculateScore() {
            const total = scores.reduce((a, b) => (a || 0) + (b || 0), 0);
            let title = "", desc = "";

            if (total <= 29) {
                title = "æ­·å²çš„ç™½ç´™ ğŸ“„";
                desc = "éå»æ•™è‚²çš„ç¼ºå¸­ä¸¦éä½ çš„ééŒ¯ï¼Œç¾åœ¨èªè­˜é‚„ä¸é²ã€‚é€™å¼µç™½ç´™æ­£ç­‰è‘—ä½ ï¼Œå¡«ä¸Šå±¬æ–¼å°ç£çš„è¨˜æ†¶ã€‚";
            } else if (total <= 59) {
                title = "è¨˜æ†¶çš„å…¥é–€è€… ğŸ“–";
                desc = "ä½ å·²èªè­˜ä¸€äº›æŒ‡æ¨™äººç‰©ï¼Œé€™æ˜¯å¾ˆå¥½çš„é–‹å§‹ã€‚é¼“å‹µä½ å¤šäº†è§£ä¸åŒæ—ç¾¤çš„æ•…äº‹ï¼Œè®“æ­·å²åœ–åƒæ›´å®Œæ•´ã€‚";
            } else if (total <= 74) {
                title = "è‰¯çŸ¥çš„å•Ÿè’™è€… ğŸŒ¤ï¸";
                desc = "ä½ å·²èµ°å‡ºè¢«é®è”½çš„è¿·éœ§ï¼Œçœ‹è¦‹äº†éå»çš„è¼ªå»“ã€‚é€™ä»½è¦ºé†’æ˜¯çè²´çš„ç«è‹—ï¼Œå°‡å¼•é ˜ä½ ç¹¼çºŒæ¢ç´¢ã€‚";
            } else if (total <= 89) {
                title = "çœŸç›¸çš„è¿½å°‹è€… ğŸ”¦";
                desc = "ä½ ä¸æ»¿è¶³æ–¼èª²æœ¬çš„éš»å­—ç‰‡èªï¼Œä¸»å‹•æŒ–æ˜è¢«æ©åŸ‹çš„æ•…äº‹ã€‚ä½ çš„è¿½å°‹ï¼Œè®“å¡µå°çš„æª”æ¡ˆé‡æ–°æœ‰äº†å…‰äº®ã€‚";
            } else {
                title = "æ­£ç¾©çš„å¼•è·¯äºº âš–ï¸";
                desc = "ä½ æ˜¯å°ç£æ­·å²éˆé­‚çš„å®ˆè­·è€…ï¼Œè¬è¬ä½ ï¼Œå› ç‚ºæœ‰ä½ éŠ˜è¨˜éå»çš„è‹¦é›£ï¼Œæˆ‘å€‘æ‰èƒ½æ›´å …å®šåœ°å±•æœ›å…¬ç¾©çš„æœªä¾†ã€‚";
            }

            document.getElementById('final-score').innerText = total;
            document.getElementById('result-title').innerText = title;
            document.getElementById('result-desc').innerText = desc;
            document.getElementById('result-section').classList.remove('hidden');
        }

        function closeResult() {
            document.getElementById('result-section').classList.add('hidden');
        }

        function shareResult() {
            const score = document.getElementById('final-score').innerText;
            const title = document.getElementById('result-title').innerText;
            const url = window.location.href.split('?')[0]; // å»é™¤åƒæ•¸
            const text = `æˆ‘åœ¨ã€Œå°ç£è½‰å‹æ­£ç¾©ãƒ»è¨˜æ†¶å°æ¸¬é©—ã€ä¸­ç²å¾—äº† ${score} åˆ†ï¼š${title}ã€‚\nä½ ä¹Ÿä¾†æ¸¬æ¸¬çœ‹ä½ èªå¾—å¤šå°‘å°ç£æ­·å²çš„åå­—ï¼Ÿ\n${url} \n#å°ç£è½‰å‹æ­£ç¾© #æ­·å²è¨˜æ†¶`;
            
            navigator.clipboard.writeText(text).then(() => {
                alert('çµæœå·²è¤‡è£½ï¼å¯ä»¥è²¼åˆ°ç¤¾ç¾¤åª’é«”åˆ†äº«äº†ã€‚');
            });
        }

        // Initialize
        initQuiz();
    </script>
</body>
</html>
